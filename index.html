<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A wrapper for the javascript `heat-tree` package for interactive phylogenetic tree visualization widgets • heattree</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A wrapper for the javascript `heat-tree` package for interactive phylogenetic tree visualization widgets">
<meta name="description" content="A self-contained widget for phylogenetic and taxonomic tree visualization with categorical and continuous variables associated with nodes and tips">
<meta property="og:description" content="A self-contained widget for phylogenetic and taxonomic tree visualization with categorical and continuous variables associated with nodes and tips">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">heattree</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="the-heattree-r-package">The <code>heattree</code> R package<a class="anchor" aria-label="anchor" href="#the-heattree-r-package"></a>
</h1></div>
<p>A wrapper for the javascript <a href="https://www.npmjs.com/package/@grunwaldlab/heat-tree" class="external-link"><code>heat-tree</code></a> package for interactive phylogenetic tree visualization widgets.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>For now, <code>heattree</code> is only available on Github and can be installed with <code>devtools</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'grunwaldlab/heattree'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>The package includes example data sets so you can try it out with minimal effort. After installing the packages, simply run the lines below to get an idea of how it works:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://grunwaldlab.github.io/heattree/">heattree</a></span><span class="op">)</span></span>
<span><span class="fu">heat_tree</span><span class="op">(</span><span class="va">example_tree_1</span>, metadata <span class="op">=</span> <span class="va">example_metadata_1</span>, aesthetics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>tipLabelColor <span class="op">=</span> <span class="st">'source'</span><span class="op">)</span>, layout <span class="op">=</span> <span class="st">'circular'</span><span class="op">)</span></span></code></pre></div>
<p><img src="README_files/figure-gfm/unnamed-chunk-3-1.png"><!-- --></p>
<p>You will have the option to interactively upload your own trees/metadata in the widgets menu as well.</p>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>This package is designed to be as simple to use as possible while also allowing for advanced customization. In fact, since you can upload tree and metadata interactively, it is entirely valid to create a widget with no input:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://grunwaldlab.github.io/heattree/">heattree</a></span><span class="op">)</span></span>
<span><span class="fu">heat_tree</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can also supply trees/metadata to plot when the widget in created. The following types of input data are currently supported:</p>
<ul>
<li>Paths to newick files</li>
<li>Newick-formatted text (a character vector with a single item)</li>
<li>
<code>phylo</code> objects from the <code>ape</code> package</li>
</ul>
<p>For example, here is the test data included in the package in these three formats:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_tree_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'example_tree_1.treefile'</span>, package <span class="op">=</span> <span class="st">'heattree'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">example_tree_path</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="do">## [1] "/home/fosterz/R/x86_64-pc-linux-gnu-library/4.5/heattree/extdata/example_tree_1.treefile"</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">example_tree_path</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">example_text</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="do">## [1] "(GCF_001456355_1:0.0374257169,GCF_004924335_1:0.0560765283,((GCF_001605725_1:0.0368285060,((SAMN11100995:0.0009734615,((SAMN11100993:0.0011764590,SAMN11100994:0.0007851371)97:0.0008756385,GCF_965135695_1:0.0017680397)95:0.0007738859)100:0.0068614333,SAMN11100996:0.0052198129)100:0.0382367799)100:0.0110598189,((GCF_000015305_1:0.0852699717,GCF_022370835_2:0.1042432673)100:0.0373624593,((((GCF_019048125_1:0.0361957779,((GCF_002837625_1:0.0019194673,((SAMEA882273:0.0024741566,SAMEA882280:0.0014582935)65:0.0005123485,GCF_001807645_1:0.0022634792)79:0.0010696016)100:0.0170761384,(GCF_000238715_1:0.0009371376,SAMEA882278:0.0004802655)100:0.0216873805)100:0.0211814175)100:0.0252764233,GCF_000010385_1:0.0681115223)99:0.0186822467,GCF_000164865_1:0.0357435232)100:0.1963223006,((((GCF_014054985_1:0.1629484002,GCF_900453895_1:0.0825572782)51:0.0331440744,((((((SAMEA3880305:0.0129810163,GCF_001814225_1:0.0110829584)87:0.0029936621,(SAMEA3880302:0.0039658683,SAMEA3880307:0.0064143661)100:0.0045372579)96:0.0036784831,GCF_022869645_1:0.0090709218)100:0.0118974163,GCF_003315235_1:0.0202070869)100:0.0306956825,GCF_900475315_1:0.0495967784)100:0.0305557472,GCF_002073715_2:0.0478873659)100:0.0377786543)50:0.0277495030,GCF_008806995_1:0.0878264736)51:0.0399857483,GCF_014055005_1:0.0688670840)100:0.1874050401)100:0.3400567094)100:0.0583908447)91:0.0112793607);"</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_phylo</span> <span class="op">&lt;-</span> <span class="fu">ape</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ape/man/read.tree.html" class="external-link">read.tree</a></span><span class="op">(</span><span class="va">example_tree_path</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">example_phylo</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="do">## Phylogenetic tree with 31 tips and 29 internal nodes.</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="do">## Tip labels:</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="do">##   GCF_001456355_1, GCF_004924335_1, GCF_001605725_1, SAMN11100995, SAMN11100993, SAMN11100994, ...</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="do">## Node labels:</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="do">##   , 91, 100, 100, 100, 95, ...</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="do">## Unrooted; includes branch length(s).</span></span></code></pre></div>
<p>These three commands all produce the same plot:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">heat_tree</span><span class="op">(</span><span class="va">example_tree_path</span><span class="op">)</span></span>
<span><span class="fu">heat_tree</span><span class="op">(</span><span class="va">example_text</span><span class="op">)</span></span>
<span><span class="fu">heat_tree</span><span class="op">(</span><span class="va">example_phylo</span><span class="op">)</span></span></code></pre></div>
<p><img src="README_files/figure-gfm/unnamed-chunk-7-1.png"><!-- --></p>
<p>You can also supply metadata for the tree by supplying a path to a TSV/CSV or a <code>data.frame</code>/<code>tibble</code>.</p>
<p>This table must have a “node_id” column with values matching the IDs in the treefile. For example, this data is associated with the above example tree:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_metadata_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'example_metadata_1.tsv'</span>, package <span class="op">=</span> <span class="st">'heattree'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">example_metadata_path</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="do">## [1] "/home/fosterz/R/x86_64-pc-linux-gnu-library/4.5/heattree/extdata/example_metadata_1.tsv"</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_metadata</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu">read_tsv</span><span class="op">(</span><span class="va">example_metadata_path</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">example_metadata</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="do">## # A tibble: 31 × 5</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="do">##    node_id         abundance frequency source  font_style</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="do">##    &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;     </span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="do">##  1 GCF_001456355_1       145      0.23 farm    normal    </span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="do">##  2 GCF_004924335_1       892      0.67 nursery normal    </span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="do">##  3 GCF_001605725_1       234      0.45 city    normal    </span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="do">##  4 SAMN11100995          567      0.89 other   italic    </span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="do">##  5 SAMN11100993          123      0.12 farm    italic    </span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="do">##  6 SAMN11100994          456      0.34 nursery italic    </span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="do">##  7 GCF_965135695_1       789      0.56 city    normal    </span></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="do">##  8 SAMN11100996          321      0.78 other   italic    </span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="do">##  9 GCF_000015305_1       654      0.23 farm    normal    </span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="do">## 10 GCF_022370835_2       987      0.91 nursery bold      </span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a><span class="do">## # ℹ 21 more rows</span></span></code></pre></div>
<p>Similar to tree input, both paths and parsed data are accepted. Metadata can be used to color or size tree elements, similar to how <code>ggplot2</code> works. The <code>aesthetics</code> parameter is used to specify which columns correspond to which aesthetics. These two commands produce the same plot:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">heat_tree</span><span class="op">(</span><span class="va">example_tree_path</span>, metadata <span class="op">=</span> <span class="va">example_metadata_path</span>, aesthetics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>tipLabelColor <span class="op">=</span> <span class="st">'source'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">heat_tree</span><span class="op">(</span><span class="va">example_tree_path</span>, metadata <span class="op">=</span> <span class="va">example_metadata</span>, aesthetics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>tipLabelColor <span class="op">=</span> <span class="st">'source'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="README_files/figure-gfm/unnamed-chunk-10-1.png"><!-- --></p>
<p>Check the <a href="https://www.npmjs.com/package/@grunwaldlab/heat-tree" class="external-link"><code>heat-tree</code></a> javascript package documentation for the list of valid aesthetics.</p>
</div>
<div class="section level2">
<h2 id="initial-settings">Initial settings<a class="anchor" aria-label="anchor" href="#initial-settings"></a>
</h2>
<p>Although the widget is primarily designed for interactive use, the initial settings can be set programmatically. All of the value of options described in the <a href="https://www.npmjs.com/package/@grunwaldlab/heat-tree" class="external-link"><code>heat-tree</code></a> javascript package documentation can be used as optional parameters. For example, the layout can be changed to circular like so:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">heat_tree</span><span class="op">(</span><span class="va">example_phylo</span>, layout <span class="op">=</span> <span class="st">'circular'</span><span class="op">)</span></span></code></pre></div>
<p><img src="README_files/figure-gfm/unnamed-chunk-12-1.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="multiple-trees">Multiple trees<a class="anchor" aria-label="anchor" href="#multiple-trees"></a>
</h2>
<p>The <code>heat_tree</code> widget is capable of managing multiple trees at once. To initialize a widget with multiple trees, supply lists of tree and metadata inputs. If metadata/aesthetics are also supplied they must a list as well that corresponds to the list of trees. For example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">heat_tree</span>(</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>  <span class="at">tree =</span> <span class="fu">list</span>(tree_1, tree_2),</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>  <span class="at">metadata =</span> <span class="fu">list</span>(metadata_1, metadata_2),</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>  <span class="at">aesthetics =</span> <span class="fu">list</span>(<span class="cn">NULL</span>, <span class="fu">c</span>(<span class="at">tipLabelColor =</span> <span class="st">'source'</span>)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT</p>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions are welcome! Please visit the <a href="https://github.com/grunwaldlab/heattree" class="external-link">GitHub repository</a> to report issues or submit pull requests.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing heattree</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zachary Foster <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zachary Foster.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
